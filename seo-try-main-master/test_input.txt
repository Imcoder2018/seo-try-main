# Components Related to /content-strategy Page

## ğŸ“„ Main Page Component
- **File**: `src/app/content-strategy/page.tsx` 
- **Purpose**: Main page component that orchestrates the entire content strategy workflow
- **Key Features**:
  - Website crawling and analysis
  - Tab-based interface (Analysis, Auto Content, Planner)
  - History panel integration
  - Error handling and loading states

## ğŸ¨ UI Components

### 1. ContentStrategyDashboard
- **File**: `src/components/content/content-strategy-dashboard.tsx` 
- **Purpose**: Main dashboard displaying content analysis results
- **Key Features**:
  - Multiple tabs: Overview, Keywords, Content Gaps, Pages, Page Details, Suggestions, Planner
  - Writing style analysis display
  - Content structure visualization
  - Brand voice elements
  - AI suggestions with outlines
  - Interactive content gap filtering

### 2. PlannerView
- **File**: `src/components/content/PlannerView.tsx` 
- **Purpose**: Content calendar with drag-and-drop functionality
- **Key Features**:
  - Monthly/Weekly/Daily calendar views
  - Drag and drop content scheduling
  - Event creation and management
  - Auto-plan generation
  - Content editor integration
  - Mobile responsive design

### 3. HistoryPanel
- **File**: `src/components/content/HistoryPanel.tsx` 
- **Purpose**: Displays historical content analyses
- **Key Features**:
  - List of past analyses
  - Date filtering
  - Result comparison
  - Quick access to previous reports

### 4. AutoContentEngine
- **File**: `src/components/content/AutoContentEngine.tsx` 
- **Purpose**: Automated content generation interface
- **Key Features**:
  - Bulk content generation
  - Template-based creation
  - SEO optimization
  - Publishing automation

## ğŸ›  API Endpoints

### Content Analysis APIs
- **`/api/content/analyze/route.ts`** - Main content analysis endpoint
- **`/api/content/history/route.ts`** - Fetches analysis history
- **`/api/content/auto-plan/route.ts`** - Generates automated content plans
- **`/api/content/schedule/route.ts`** - Content scheduling and publishing

### Content Generation APIs
- **`/api/content/generate/route.ts`** - AI content generation
- **`/api/content/generate-outline/route.ts`** - Content outline generation
- **`/api/content/generate-image/route.ts`** - AI image generation
- **`/api/content/bulk-generate/route.ts`** - Bulk content creation

### Content Management APIs
- **`/api/content/sites/route.ts`** - Website management
- **`/api/content/keywords/route.ts`** - Keyword analysis
- **`/api/content/cron/route.ts`** - Scheduled content tasks
- **`/api/content/editor/route.ts`** - Content editing operations

## âš™ Backend Tasks (Trigger.dev)

### Content Processing Tasks
- **`trigger/content/content-analyzer.ts`** - Main content analysis task
- **`trigger/content/content-extractor.ts`** - Content extraction from websites
- **`trigger/content/content-generator.ts`** - AI content generation
- **`trigger/content/auto-discovery.ts`** - Automated content discovery

## ğŸ“Š Data Flow Architecture

```
/content-strategy/page.tsx
â”œâ”€â”€ ContentStrategyDashboard (Main UI)
â”‚   â”œâ”€â”€ Overview Tab
â”‚   â”œâ”€â”€ Keywords Tab
â”‚   â”œâ”€â”€ Content Gaps Tab
â”‚   â”œâ”€â”€ Pages Tab
â”‚   â”œâ”€â”€ Page Details Tab
â”‚   â”œâ”€â”€ Suggestions Tab
â”‚   â””â”€â”€ Planner Tab â†’ PlannerView Component
â”‚
â”œâ”€â”€ AutoContentEngine (Auto Content Tab)
â”‚
â””â”€â”€ HistoryPanel (Slide-out panel)

API Layer:
â”œâ”€â”€ /api/content/analyze (Content analysis)
â”œâ”€â”€ /api/content/history (Analysis history)
â”œâ”€â”€ /api/content/auto-plan (Calendar planning)
â”œâ”€â”€ /api/content/generate (Content creation)
â””â”€â”€ /api/content/schedule (Publishing)

Trigger.dev Tasks:
â”œâ”€â”€ content-analyzer (Analyzes website content)
â”œâ”€â”€ content-extractor (Extracts content from URLs)
â”œâ”€â”€ content-generator (Generates AI content)
â””â”€â”€ auto-discovery (Finds content opportunities)
```

## ğŸ”— Key Dependencies

### React Libraries
- `react-big-calendar` - Calendar component
- `@dnd-kit/core` - Drag and drop functionality
- `@tiptap/react` - Rich text editor
- `@ai-sdk/react` - AI integration
- `moment` - Date handling

### UI Components
- Lucide React icons
- Custom UI components (Button, inputs, etc.)
- Tailwind CSS for styling

## ğŸ¯ Component Interactions

1. **Page Load** â†’ `content-strategy/page.tsx` initializes
2. **Website Analysis** â†’ Triggers `content-analyzer` task â†’ Updates dashboard
3. **Content Planning** â†’ Drag items in `PlannerView` â†’ Creates calendar events
4. **Content Generation** â†’ `AutoContentEngine` â†’ Uses generation APIs
5. **History Access** â†’ `HistoryPanel` â†’ Fetches from history API

## ğŸ“ Notes
- `content-strategy-dashboard-improved.tsx` appears to be a backup/alternative version
- All components use TypeScript for type safety
- The system integrates with Trigger.dev for background processing
- Real-time updates are handled through React state management
